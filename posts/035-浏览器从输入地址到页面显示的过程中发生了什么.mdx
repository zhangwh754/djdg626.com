---
title: 浏览器从输入地址到页面显示的过程中发生了什么
date: 2024/04/05 23:13:09
tag: 面试题
description: 全解析浏览器从输入地址到页面显示的过程中发生的事情。
---

## 发生的事情

从输入url到页面显示大致有这样9个步骤。

1. 浏览器对输入的地址进行`URL解析`
2. 触发缓存，如`浏览器缓存`
3. `DNS解析`把主机域名转换为`ip地址`
4. 根据`ip地址`找到对应的服务器，发起`tcp连接`
5. 建立`tcp连接`后，发起`http请求`
6. 服务器`响应http请求`，客户端获得html文件
7. 浏览器`解析html代码`，请求html中的`外部资源`（js、img、css等）
8. 浏览器解析渲染视图页面
9. 服务器断开`tcp连接`

## URL解析

如果输入的是url而非ip地址，那么浏览器会对url进行编码，使用encodeURL函数

编码有两个函数：`encodeURIComponent()` 和 `encodeURI()`

`encodeURIComponent()`

- 会对特殊字符进行编码，包括 `:`、`/`、`?`、`&`、`=` 和空格等。
- 一般用于对`查询字符串`中的参数进行编码。

`encodeURI()`

- 用于对整个 URI 进行编码，但不会对某些特殊字符进行编码，如 `:/?#[]@` 等。
- 通常用于对`整个 URI `进行编码，但不希望影响 URI 结构的部分。

## DNS解析

- 计算机之间的通信是通过唯一的网络地址标识（即ip地址）
- ip难以记忆，面向网络。域名方便记忆，面向用户
- 一个ip可以对应多个域名，而一个域名只能对应一个ip
- 域名解析是通过专用的服务器进行的，被称为DNS服务器
